!function(){"use strict";var n={9766:function(n,t,e){function r(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(n){return void e(n)}u.done?t(c):Promise.resolve(c).then(r,o)}function o(n){return function(){var t=this,e=arguments;return new Promise((function(o,i){var a=n.apply(t,e);function u(n){r(a,o,i,u,c,"next",n)}function c(n){r(a,o,i,u,c,"throw",n)}u(void 0)}))}}function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}e(9554),e(1539),e(8674),e(4747),e(5666),e(2222);var a=new function n(){var t=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i(this,"getResource",function(){var n=o(regeneratorRuntime.mark((function n(t){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch("".concat(t));case 3:return e=n.sent,n.next=6,e.json();case 6:return n.abrupt("return",n.sent);case 9:throw n.prev=9,n.t0=n.catch(0),new Error("Ошибка загрузки ".concat(t,", статус соединения ").concat(res.status,"."));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(t){return n.apply(this,arguments)}}()),i(this,"getAllPeoples",o(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getResource(t.urlPeople);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))),i(this,"getAllComments",o(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getResource(t.urlComments);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))),i(this,"getAllPosts",o(regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getResource(t.urlPosts);case 2:return e=n.sent,n.abrupt("return",e);case 4:case"end":return n.stop()}}),n)})))),this.urlPeople="https://jsonplaceholder.typicode.com/users",this.urlComments="https://jsonplaceholder.typicode.com/comments",this.urlPosts="https://jsonplaceholder.typicode.com/posts"};function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function c(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(n){return void e(n)}u.done?t(c):Promise.resolve(c).then(r,o)}function s(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){c(i,r,o,a,u,"next",n)}function u(n){c(i,r,o,a,u,"throw",n)}a(void 0)}))}}function l(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function f(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function p(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(n){return void e(n)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){p(i,r,o,a,u,"next",n)}function u(n){p(i,r,o,a,u,"throw",n)}a(void 0)}))}}e(6992),e(1249),e(5827),e(8309),e(8783),e(3948),e(9600);var d=new function n(t){var e=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),l(this,"init",s(regeneratorRuntime.mark((function n(){var t,r,o,i,a,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.api.getAllPeoples(),e.api.getAllComments(),e.api.getAllPosts()]);case 2:return t=n.sent,l=3,r=function(n){if(Array.isArray(n))return n}(s=t)||function(n,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n)){var e=[],r=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(r=(a=u.next()).done)&&(e.push(a.value),!t||e.length!==t);r=!0);}catch(n){o=!0,i=n}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return e}}(s,l)||function(n,t){if(n){if("string"==typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(n,t):void 0}}(s,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],i=r[1],a=r[2],e.peoples=e.serializePeoples(o),e.comments=e.serializeComments(i),e.posts=e.serializePosts(a),c=e.posts.map((function(n){return n.forEach((function(n){e.comments.forEach((function(t){t.forEach((function(e){n.id===e.postId&&(n.comment=t)}))}))})),n})),e.normalisePerson=e.peoples.map((function(n){return c.forEach((function(t){t.forEach((function(e){n.id===e.userId&&(n.post=t)}))})),n})),n.abrupt("return",t);case 10:case"end":return n.stop()}var s,l}),n)})))),l(this,"serializePeoples",(function(n){return n.map((function(n){return{name:n.name,id:n.id}}))})),l(this,"serializeComments",(function(n){return n.reduce((function(n,t){var e=t.postId;return n[e]=n[e]||[],n[e].push(t),n}),[])})),l(this,"serializePosts",(function(n){return n.reduce((function(n,t){var e=t.userId;return n[e]=n[e]||[],n[e].push(t),n}),[])})),this.api=t,this.peoples=null,this.comments=null,this.posts=null,this.normalisePerson=null}(a),m=new function n(){var t=this;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),f(this,"init",(function(n){var e=t.createMainTable(n);t.body.appendChild(e)})),f(this,"createMainTable",(function(n){var e=document.createElement("table");e.classList.add("main_table");var r=t.createTHead(),o=t.createTBody(n);return e.insertAdjacentHTML("afterbegin",r),e.insertAdjacentHTML("beforeend",o),e})),f(this,"createTHead",(function(){return"\n      <thead>\n        <tr>\n          <td class='main_td'>Имя(автора)</td>\n          <td class='main_td'>Название(поста)</td>\n          <td class='main_td'>Количество(комментариев)</td>\n        </tr>\n      </thead>\n    "})),f(this,"createTBody",(function(n){var e=t.createData(n);return"\n      <tbody>\n        ".concat(e,"\n      </tbody>    \n    ")})),f(this,"createData",(function(n){return n.map((function(n){var e=n.name,r=n.post,o=t.inputName(e),i=t.intupPost(r),a=t.inputCommentsLength(r);return t.inputData(o,i,a)})).join("")})),f(this,"inputName",(function(n){return" <td class='main_td'>".concat(n,"</td>")})),f(this,"intupPost",(function(n){return n.map((function(n){return"\n        <tr>\n          <td>Пост: ".concat(n.title,"</td>\n        </tr>  \n      ")})).join("")})),f(this,"inputCommentsLength",(function(n){return n.map((function(n){return"\n        <tr>\n          <td class='comment_td'>".concat(n.comment.length,"</td>\n        </tr>  \n      ")})).join("")})),f(this,"inputData",(function(n,t,e){return"\n      <tr>\n        ".concat(n,"\n        <td class='main_td'>\n          <table>\n            ").concat(t,"      \n          </table>\n        </td>\n        <td class='main_td'>\n          <table>\n            ").concat(e,"      \n          </table>\n        </td>\n      </tr>\n    ")})),this.body=document.querySelector("body")},v=new function n(){var t,e;!function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),e=function(){return'\n      <div class="preloader-spinner-rolling">\n        <div class="preloader">\n          <div></div>\n        </div>\n      </div>\n    '},(t="preloaderInit")in this?Object.defineProperty(this,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):this[t]=e};function b(){return y.apply(this,arguments)}function y(){return(y=h(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,d.init();case 2:m.init(d.normalisePerson),w(document.querySelectorAll(".comment_td"),b);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function w(n,t){n.forEach((function(n){n.addEventListener("click",(function(){n.innerHTML="",n.innerHTML=v.preloaderInit(),t().then((function(){document.querySelector(".main_table").remove()}))}))}))}document.addEventListener("DOMContentLoaded",(function(){b()}))}},t={};function e(r){if(t[r])return t[r].exports;var o=t[r]={exports:{}};return n[r](o,o.exports,e),o.exports}e.m=n,e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"==typeof window)return window}}(),e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},function(){var n={143:0},t=[[9766,27]],r=function(){};function o(){for(var r,o=0;o<t.length;o++){for(var i=t[o],a=!0,u=1;u<i.length;u++){var c=i[u];0!==n[c]&&(a=!1)}a&&(t.splice(o--,1),r=e(e.s=i[0]))}return 0===t.length&&(e.x(),e.x=function(){}),r}e.x=function(){e.x=function(){},a=a.slice();for(var n=0;n<a.length;n++)i(a[n]);return(r=o)()};var i=function(o){for(var i,a,c=o[0],s=o[1],l=o[2],f=o[3],p=0,h=[];p<c.length;p++)a=c[p],e.o(n,a)&&n[a]&&h.push(n[a][0]),n[a]=0;for(i in s)e.o(s,i)&&(e.m[i]=s[i]);for(l&&l(e),u(o);h.length;)h.shift()();return f&&t.push.apply(t,f),r()},a=self.webpackChunkwebpack_starter=self.webpackChunkwebpack_starter||[],u=a.push.bind(a);a.push=i}(),e.x()}();
//# sourceMappingURL=app.3293b3a9.js.map